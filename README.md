# World Backup

ワールドのバックアップと復元ができる PocketMine-MP のプラグインです。

毎日１日１回、全ワールドを自動でバックアップします。

バックアップは世代管理できます。


# コマンド

コマンドはサーバーコンソールからのみ実行できます。

## バックアップの一覧を見る

```
/wbackup list
```

## バックアップする

```
/wbackup backup [world]
```

## 復元する

```
/wbackup restore [world] [yyyy-mm-dd]
```

復元コマンド実行後にサーバーを再起動してください。（stopコマンドを使います）

次回サーバー起動時にワールドの復元処理が実行されます。

これは、サーバーが動作中時にワールドのファイルを書き換えると復元が不完全になるためです。


## バックアップ設定を見る

```
/wbackup set
```

## バックアップ履歴の上限数を設定する

```
/wbackup set max [int]
```

規定値は 10 です。

最低 3、最大 30 までの範囲で指定可能です。

バックアップされた履歴の世代数が上限を超えた場合、一番古い世代から削除されます。


# 仕様


バックアップされたワールドのファイルはプラグインフォルダの WorldBackup 下の backups に保存されます。


```
plugins
   |
   +--- WorldBackup
           |
           +--- backups
                   |
                   +--- world
                          |
                          +--- yyyy-mm-dd
                          +--- yyyy-mm-dd
                          +--- yyyy-mm-dd
```